<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>const를 사용해야 하는 이유</title>
  </head>
  <body>
    <script>
      // JavaScript에서 'const'를 기본적으로 사용해야 하는 이유는
      // 코드의 안정성과 가독성을 크게 향상시키기 때문입니다.

      // 1. 의도치 않은 재할당 방지 (버그 예방)
      // ----------------------------------------------------
      // 설정값이나 주요 변수가 코드 중간에 실수로 변경되는 것을 막아줍니다.

      // 예: API 주소, 최대 시도 횟수 등 애플리케이션 전반에서 바뀌지 않아야 할 값들
      const API_BASE_URL = "https://api.example.com";
      const MAX_RETRY_COUNT = 3;
      const TIMEOUT_DURATION = 5000;

      console.log("API 주소:", API_BASE_URL);

      try {
        // 다른 개발자나 미래의 내가 실수로 이 값을 변경하려고 하면...
        // API_BASE_URL = 'https://api.new.com'; // -> TypeError 발생!
      } catch (e) {
        console.error("const 변수 재할당 시도:", e.message);
        console.log(
          "=> const는 이처럼 중요한 값이 변경되는 것을 막아 실수를 방지합니다."
        );
      }

      // 2. 코드의 의도를 명확하게 표현 (가독성 향상)
      // ----------------------------------------------------
      // 'const'를 보면 "이 변수는 재할당되지 않는다"는 것을 즉시 알 수 있습니다.
      // 코드를 읽는 사람이 변수의 상태 변화를 추적할 필요가 없어집니다.

      function calculatePrice(quantity, unitPrice) {
        // 이 함수 내에서 아래 값들은 한 번 계산된 후 바뀌지 않습니다.
        // const로 선언함으로써 "이 값은 여기서 계산되고 끝"이라는 의도를 명확히 보여줍니다.
        const subtotal = quantity * unitPrice;
        const taxRate = 0.1; // 세율도 고정값
        const tax = subtotal * taxRate;
        const total = subtotal + tax;

        // 만약 let으로 선언했다면?
        // let total = subtotal + tax;
        // ... 함수 로직이 길어질 경우 ...
        // total = total + someOtherValue; // 이런 식으로 값이 변경될 가능성이 열려있어 코드를 추적하기 어려워짐

        return { subtotal, tax, total };
      }

      const orderDetails = calculatePrice(10, 500);
      console.log("\n계산 결과:", orderDetails);

      /*
       * 결론:
       *
       * 1. 기본적으로 모든 변수는 'const'로 선언합니다.
       * 2. 재할당이 꼭 필요한 경우에만 'let'을 사용합니다. (예: for 루프의 카운터, 상태 변경이 필요한 변수)
       * 3. 'var'는 사용하지 않습니다.
       *
       * 이렇게 하면 코드가 더 예측 가능하고 안정적이 되며, 다른 사람이 코드를 이해하기 쉬워집니다.
       */
    </script>
  </body>
</html>
