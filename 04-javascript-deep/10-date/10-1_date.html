<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Date 객체</title>
  </head>
  <body>
    <script>
      // Date 객체는 JavaScript에서 날짜와 시간을 다루기 위한 내장 객체입니다.

      // ------------------- 1. Date 객체 생성하기 -------------------
      console.log("--- 1. Date 객체 생성 ---");

      // 1-1. 파라미터 없이 생성: 현재 날짜와 시간
      const now = new Date();
      console.log("현재 시간:", now);

      // 1-2. 특정 날짜로 생성 (년, 월, 일)
      // ※※※ 주의: 월(month)은 0부터 시작합니다! (0 = 1월, 11 = 12월) ※※※
      const christmas = new Date(2024, 11, 25); // 2024년 12월 25일
      console.log("크리스마스:", christmas);

      // 1-3. 특정 날짜 및 시간으로 생성 (년, 월, 일, 시, 분, 초)
      const specificTime = new Date(2024, 0, 1, 10, 30, 0); // 2024년 1월 1일 10:30:00
      console.log("특정 시간:", specificTime);

      // 1-4. 문자열로 생성 (ISO 8601 형식이 가장 안정적)
      const fromString = new Date("2025-01-01T00:00:00");
      console.log("문자열로 생성:", fromString);

      // ------------------- 2. 날짜/시간 정보 가져오기 (Getter) -------------------
      console.log("\n--- 2. 날짜/시간 정보 가져오기 ---");
      const d = new Date();
      console.log("getFullYear():", d.getFullYear()); // 년도 (YYYY)
      console.log("getMonth():", d.getMonth()); // 월 (0-11) -> 실제 월을 얻으려면 +1 해야 함
      console.log("getDate():", d.getDate()); // 일 (1-31)
      console.log("getDay():", d.getDay()); // 요일 (0=일, 1=월, ..., 6=토)
      console.log("getHours():", d.getHours()); // 시 (0-23)
      console.log("getMinutes():", d.getMinutes()); // 분 (0-59)
      console.log("getSeconds():", d.getSeconds()); // 초 (0-59)
      console.log("getTime():", d.getTime()); // 1970년 1월 1일 00:00:00 UTC로부터의 밀리초

      const dayNames = ["일", "월", "화", "수", "목", "금", "토"];
      console.log(`오늘은 ${dayNames[d.getDay()]}요일입니다.`);

      // ------------------- 3. 날짜 포매팅 -------------------
      console.log("\n--- 3. 날짜 포매팅 ---");
      console.log("toString():", d.toString());
      console.log("toDateString():", d.toDateString()); // 날짜만
      console.log("toTimeString():", d.toTimeString()); // 시간만
      console.log("toLocaleString():", d.toLocaleString()); // 사용자의 지역 설정에 맞는 형식
      console.log("toLocaleDateString():", d.toLocaleDateString());
      console.log("toLocaleTimeString():", d.toLocaleTimeString());
      console.log("toISOString():", d.toISOString()); // ISO 8601 형식 (서버와 데이터 교환 시 주로 사용)

      // 사용자 정의 포매팅 함수 예시
      function formatDate(date, format = "YYYY-MM-DD HH:mm:ss") {
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, "0");
        const day = String(date.getDate()).padStart(2, "0");
        const hours = String(date.getHours()).padStart(2, "0");
        const minutes = String(date.getMinutes()).padStart(2, "0");
        const seconds = String(date.getSeconds()).padStart(2, "0");

        return format
          .replace("YYYY", year)
          .replace("MM", month)
          .replace("DD", day)
          .replace("HH", hours)
          .replace("mm", minutes)
          .replace("ss", seconds);
      }

      let now1 = new Date();
      console.log(formatDate(now1)); // "2023-12-25 14:30:45"
      console.log(formatDate(now1, "YYYY/MM/DD")); // "2023/12/25"
      console.log(formatDate(now1, "MM-DD HH:mm")); // "12-25 14:30"

      // ------------------- 4. 시간차 계산하기 (D-day 예제) -------------------
      console.log("\n--- 4. 시간차 계산 ---");
      const today = new Date();
      const newYear = new Date(today.getFullYear() + 1, 0, 1);

      const diff = newYear.getTime() - today.getTime(); // 밀리초 단위의 시간차

      // 밀리초를 일(day) 단위로 변환
      // 1000(ms) * 60(s) * 60(m) * 24(h) = 1일
      const diffDays = Math.ceil(diff / (1000 * 60 * 60 * 24));
      console.log(`새해까지 ${diffDays}일 남았습니다.`);

      // ------------------- 5. 응용: 날짜 계산 함수 -------------------
      console.log("\n--- 5. 응용: 날짜 계산 함수 ---");

      // 날짜 더하기/빼기
      function addDays(date, days) {
        let result = new Date(date); // 원본 수정을 피하기 위해 새로운 Date 객체 생성
        result.setDate(result.getDate() + days);
        return result;
      }

      function addMonths(date, months) {
        let result = new Date(date);
        result.setMonth(result.getMonth() + months);
        return result;
      }

      // 날짜 차이 계산 (일 단위)
      function daysDifference(date1, date2) {
        const oneDay = 24 * 60 * 60 * 1000; // 하루를 밀리초로
        // Math.abs()로 절대값을 구해 순서에 상관없이 차이를 계산
        return Math.round(Math.abs((date1 - date2) / oneDay));
      }

      let todayForCalc = new Date();
      let futureDate = addDays(todayForCalc, 30);

      console.log(`30일 후: ${formatDate(futureDate)}`);
      console.log(`차이: ${daysDifference(todayForCalc, futureDate)}일`);

      // ------------------- 6. 응용: 요일 변환 함수 -------------------
      console.log("\n--- 6. 응용: 요일 변환 함수 ---");

      function getDayName(date) {
        const dayNames = [
          "일요일",
          "월요일",
          "화요일",
          "수요일",
          "목요일",
          "금요일",
          "토요일",
        ];
        return dayNames[date.getDay()];
      }

      function getDayNameEn(date) {
        const dayNames = [
          "Sunday",
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday",
          "Saturday",
        ];
        return dayNames[date.getDay()];
      }

      let todayFunc = new Date();
      console.log("오늘의 한글 요일:", getDayName(todayFunc)); // 예: "월요일"
      console.log("오늘의 영문 요일:", getDayNameEn(todayFunc)); // 예: "Monday"

      // ※ 참고: Date 객체는 사용하기에 다소 불편한 점(월이 0부터 시작 등)이 있어,
      // 실무에서는 date-fns, day.js 같은 라이브러리를 사용해 날짜를 더 쉽고 안전하게 다루는 경우가 많습니다.
    </script>
  </body>
</html>
