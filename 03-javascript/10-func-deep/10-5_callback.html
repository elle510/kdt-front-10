<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>콜백 함수 (Callback Function)</title>
  </head>
  <body>
    <script>
      // 다른 함수의 인자로 전달되는 함수를 '콜백 함수'라고 합니다.

      // --- 1. 동기적 콜백 (Synchronous Callback) ---
      // 순차적으로 실행되는 코드에서 콜백 사용

      // 콜백 함수를 받는 고차 함수(Higher-Order Function)
      function calculate(a, b, callback) {
        const result = callback(a, b);
        console.log(`결과: ${result}`);
      }

      // 콜백으로 사용할 함수들
      function add(a, b) {
        return a + b;
      }

      function multiply(a, b) {
        return a * b;
      }

      console.log("--- 동기적 콜백 ---");
      calculate(10, 5, add); // 덧셈 콜백 전달
      calculate(10, 5, multiply); // 곱셈 콜백 전달

      // 익명 함수를 콜백으로 전달
      calculate(10, 5, function (a, b) {
        return a - b;
      });

      // --- 2. 비동기적 콜백 (Asynchronous Callback) ---
      // 특정 작업이 끝난 후에 실행되도록 할 때 콜백 사용 (예: 타이머, 서버 요청)

      console.log("\n--- 비동기적 콜백 ---");
      console.log("작업을 시작합니다.");

      function simulateAsync(callback) {
        // 2초 후에 코드를 실행하는 비동기 함수
        setTimeout(function () {
          console.log("2초가 지났습니다.");
          callback(); // 2초 후 콜백 함수 실행
        }, 2000);
      }

      function onComplete() {
        console.log("비동기 작업이 완료되었습니다!");
      }

      simulateAsync(onComplete);

      console.log("작업 요청을 보냈습니다. (이 메시지가 먼저 보입니다)");
    </script>
  </body>
</html>
