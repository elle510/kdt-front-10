<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>정규식 핵심 문법</title>
    <style>
      body {
        font-family: sans-serif;
        line-height: 1.6;
      }
      h1,
      h2 {
        border-bottom: 1px solid #eee;
        padding-bottom: 5px;
      }
    </style>
  </head>
  <body>
    <h1>정규식 핵심 문법</h1>
    <p>
      브라우저의 개발자 도구(F12) 콘솔을 열어 문법별 실행 결과를 확인하세요.
    </p>

    <script>
      function testRegex(title, regex, ...strings) {
        console.groupCollapsed(title);
        console.log(`정규식: ${regex}`);
        strings.forEach((str) => {
          // const result = str.match(regex);
          const result = regex.test(str) ? "매칭됨" : null;
          console.log(`"${str}" ->`, result ? result : "null");
        });
        console.groupEnd();
      }

      // 1. 시작(^)과 끝($)
      testRegex(
        "1. 시작(^)과 끝($)",
        /^cat|dog$/,
        "cat",
        "dog",
        "A cat",
        "doggy"
      );
      testRegex("   - /^cat$/", /^cat$/, "cat", "a cat");

      // 2. 수량자(Quantifiers)
      testRegex("2. 수량자: a* (0회 이상)", /a*/, "c", "ca", "caa");
      testRegex("   - a+ (1회 이상)", /a+/, "c", "ca", "caa");
      testRegex("   - a? (0회 또는 1회)", /a?/, "c", "ca", "caa");
      testRegex("   - a{2} (정확히 2회)", /a{2}/, "a", "aa", "aaa");
      testRegex("   - a{2,} (최소 2회)", /a{2,}/, "a", "aa", "aaa");
      testRegex(
        "   - a{2,3} (2회에서 3회)",
        /a{2,3}/,
        "a",
        "aa",
        "aaa",
        "aaaa"
      );

      // 3. 문자 클래스(Character Classes)
      testRegex("3. 문자 클래스: \d (숫자)", /\d/g, "a1 b2 c3");
      testRegex("   - \D (숫자 아님)", /\D/g, "a1 b2 c3");
      testRegex("   - \w (알파벳,숫자,_) ", /\w/g, "a1_b-2");
      testRegex("   - \W (\w가 아님)", /\W/g, "a1_b-2");
      testRegex("   - \s (공백 문자)", /\s/g, "a b\t\n c");
      testRegex("   - \S (공백 문자 아님)", /\S/g, "a b\t\n c");
      testRegex("   - . (줄바꿈 제외 모든 문자)", /./g, "a b c");

      // 4. 그룹과 범위(Groups & Ranges)
      testRegex(
        "4. 그룹과 범위: [abc] (a,b,c 중 하나)",
        /[abc]/g,
        "apple, banana, cherry"
      );
      testRegex("   - [^abc] (a,b,c 제외)", /[^abc]/g, "apple, banana, cherry");
      testRegex("   - [a-z] (소문자 범위)", /[a-z]/g, "Hello World 123");
      testRegex(
        "   - [A-Z0-9] (대문자 또는 숫자)",
        /[A-Z0-9]/g,
        "Hello World 123"
      );
      testRegex(
        "   - (on|off) (그룹: on 또는 off)",
        /(on|off)/g,
        "Button is on, Light is off"
      );

      // 5. 캡처링(Capturing)
      console.groupCollapsed("5. 캡처링(Capturing)");
      const dateStr = "2025-10-26";
      const dateRegex = /(\d{4})-(\d{2})-(\d{2})/; // 각 그룹이 캡처됨
      const dateResult = dateStr.match(dateRegex);
      console.log("날짜 매칭 결과:", dateResult);
      console.log("전체 매치($&):", dateResult[0]); // 2025-10-26
      console.log("첫 번째 그룹($1):", dateResult[1]); // 2025
      console.log("두 번째 그룹($2):", dateResult[2]); // 10
      console.log("세 번째 그룹($3):", dateResult[3]); // 26
      // replace에서 캡처 사용
      const formattedDate = dateStr.replace(dateRegex, "$2/$3/$1");
      console.log("날짜 포맷 변경:", formattedDate); // 10/26/2025
      console.groupEnd();

      // 6. 전방 탐색(Lookahead)
      testRegex(
        "6. 전방 탐색: X(?=Y) (Y가 뒤따라오는 X)",
        /\d(?=%)/g,
        "10% tax, 20 dollars"
      );
      testRegex(
        "   - X(?!Y) (Y가 뒤따라오지 않는 X)",
        /\d(?!%)/g,
        "10% tax, 20 dollars"
      );
    </script>
  </body>
</html>
