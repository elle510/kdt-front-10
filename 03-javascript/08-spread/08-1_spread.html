<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript Spread Syntax (전개 구문)</title>
  </head>
  <body>
    <script>
      // Spread Syntax (전개 구문, ...): 배열, 문자열, 객체 등 반복 가능한(iterable) 객체를 개별 요소로 펼칩니다.
      // 객체의 경우 ES2018부터 지원됩니다.

      // 1. 배열에서의 사용
      console.log("--- 배열에서의 사용 ---");
      const arr1 = [1, 2, 3];
      const arr2 = [4, 5, 6];

      // 배열 복사 (Shallow Copy)
      const copyArr = [...arr1];
      copyArr.push(4);
      console.log("원본 arr1:", arr1); // 원본 배열은 변경되지 않음
      console.log("복사된 copyArr:", copyArr);

      // 배열 합치기 (Concatenation)
      const combinedArr = [...arr1, ...arr2];
      console.log("합쳐진 배열:", combinedArr);

      // 배열에 요소 추가
      const arrWithNewElements = [0, ...arr1, 4, 5];
      console.log("요소가 추가된 배열:", arrWithNewElements);

      // 2. 함수 호출 시 인수(argument)로 사용
      console.log("\n--- 함수 호출 시 사용 ---");
      const numbers = [10, 5, 100, 25];

      // Math.max는 여러 개의 숫자 인수를 받음: Math.max(10, 5, 100, 25)
      const maxNumber = Math.max(...numbers);
      console.log(`numbers 배열의 최대값: ${maxNumber}`);

      function printArgs(a, b, c) {
        console.log(`a: ${a}, b: ${b}, c: ${c}`);
      }
      const args = ["하나", "둘", "셋"];
      printArgs(...args);

      // 3. 객체에서의 사용 (ES2018+)
      console.log("\n--- 객체에서의 사용 ---");
      const obj1 = { a: 1, b: 2 };
      const obj2 = { c: 3, d: 4 };

      // 객체 복사 (Shallow Copy)
      const copyObj = { ...obj1 };
      copyObj.a = 100;
      console.log("원본 obj1:", obj1); // 원본 객체는 변경되지 않음
      console.log("복사된 copyObj:", copyObj);

      // 객체 병합 (Merge)
      const mergedObj = { ...obj1, ...obj2 };
      console.log("병합된 객체:", mergedObj);

      // 동일한 키가 있을 경우, 뒤에 오는 객체의 값으로 덮어씌워짐
      const overwriteObj = { ...obj1, b: 99 };
      console.log("덮어쓴 객체:", overwriteObj);

      // 객체에 속성 추가/수정
      const updatedObj = {
        ...obj1,
        b: 20, // 기존 속성 수정
        e: 5, // 새로운 속성 추가
      };
      console.log("수정된 객체:", updatedObj);

      // 4. 나머지 매개변수(Rest Parameters)와의 구분
      // 모양은 같지만, 역할은 정반대입니다.
      // - Spread: 펼치는 것
      // - Rest: 모으는 것

      function sum(...rest) {
        // 여러 인수를 'rest'라는 배열로 모음 (Rest Parameters)
        return rest.reduce((acc, cur) => acc + cur, 0);
      }

      const numsToSum = [1, 2, 3, 4, 5];
      console.log("\n--- 나머지 매개변수 vs 전개 구문 ---");
      console.log("sum(1, 2, 3, 4, 5) =", sum(1, 2, 3, 4, 5));
      console.log("sum(...numsToSum) =", sum(...numsToSum)); // 배열을 개별 인수로 펼쳐서 전달 (Spread Syntax)
    </script>
  </body>
</html>
