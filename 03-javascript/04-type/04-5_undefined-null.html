<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript undefined와 null</title>
  </head>
  <body>
    <script>
      // undefined와 null은 모두 '값이 없음'을 나타내지만, 의미와 사용법에 차이가 있습니다.

      // 1. undefined
      // - 시스템이 할당하는 '값이 없음'의 상태입니다.
      // - 변수는 선언했지만, 값을 할당하지 않았을 때 자동으로 할당됩니다.
      console.log("--- undefined ---");

      let myVar;
      console.log("선언만 한 변수:", myVar, typeof myVar);

      function myFunc(param) {
        console.log("전달받지 않은 파라미터:", param, typeof param);
      }
      myFunc();

      function noReturn() {
        // 아무것도 반환하지 않음
      }
      console.log("반환값이 없는 함수:", noReturn(), typeof noReturn());

      const myObj = { name: "홍길동" };
      console.log("존재하지 않는 객체 속성:", myObj.age, typeof myObj.age);

      // 2. null
      // - 개발자가 의도적으로 '값이 없음'을 명시적으로 할당한 상태입니다.
      // - '비어있는 객체'를 나타내는 데 자주 사용됩니다.
      console.log("\n--- null ---");

      let user = "김철수";
      console.log("초기 사용자:", user);

      // 사용자가 떠나거나, 더 이상 참조할 필요가 없을 때 null을 할당하여 메모리 관리를 할 수 있습니다.
      user = null;
      console.log("값이 비워진 변수:", user, typeof user);
      // typeof null이 'object'인 것은 JavaScript의 초기 버그이지만, 하위 호환성을 위해 유지되고 있습니다.

      // 3. undefined와 null의 비교
      console.log("\n--- undefined와 null 비교 ---");

      // 동등 연산자(==)는 타입을 변환한 후 비교하므로 true를 반환합니다.
      // 이 둘을 구분하지 않고 '값이 없는 상태'인지 확인할 때 사용할 수 있습니다.
      console.log(`null == undefined : ${null == undefined}`); // true

      // 일치 연산자(===)는 타입까지 비교하므로 false를 반환합니다.
      // 두 값을 명확하게 구분하려면 일치 연산자를 사용해야 합니다.
      console.log(`null === undefined : ${null === undefined}`); // false

      // Falsy 값으로서의 동작
      if (!null) {
        console.log("null은 falsy 입니다.");
      }
      if (!undefined) {
        console.log("undefined는 falsy 입니다.");
      }

      // 권장하는 확인 방법
      let someValue = null;

      // null 또는 undefined인지 확인
      if (someValue == null) {
        console.log("someValue는 null 또는 undefined 입니다.");
      }

      // 정확히 null인지 확인
      if (someValue === null) {
        console.log("someValue는 정확히 null 입니다.");
      }

      // 정확히 undefined인지 확인
      let anotherValue;
      if (anotherValue === undefined) {
        console.log("anotherValue는 정확히 undefined 입니다.");
      }
    </script>
  </body>
</html>
