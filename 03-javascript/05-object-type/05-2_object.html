<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript Object</title>
  </head>
  <body>
    <script>
      // Object: 이름(key)과 값(value)으로 구성된 속성(property)들의 집합입니다.
      // 순서가 없는 데이터의 컬렉션이며, 원시 타입을 제외한 모든 것은 객체입니다.

      // 1. 객체 생성 (Object Literal)
      console.log("--- 객체 생성 ---");
      const user = {
        name: "홍길동", // 속성 (property)
        age: 30,
        isAdmin: true,
        "my-hobby": ["독서", "영화보기"], // 키에 특수문자가 포함되면 따옴표로 감싸야 함

        // 메소드 (Method): 객체의 속성 값이 함수인 경우
        sayHello: function () {
          // 'this'는 메소드를 호출한 객체를 가리킵니다 (여기서는 user 객체).
          console.log(`안녕하세요, 제 이름은 ${this.name}입니다.`);
        },

        // ES6+ 메소드 축약 표현
        sayAge() {
          console.log(`제 나이는 ${this.age}세입니다.`);
        },
      };

      console.log("user 객체:", user);

      // 2. 속성 접근, 추가, 수정, 삭제
      console.log("\n--- 속성 접근, 추가, 수정, 삭제 ---");

      // 접근 (Dot notation vs Bracket notation)
      console.log(`이름 (점 표기법): ${user.name}`);
      console.log(`나이 (대괄호 표기법): ${user["age"]}`);

      // 대괄호 표기법은 키가 동적이거나 특수문자를 포함할 때 유용합니다.
      console.log(`취미 (대괄호 표기법): ${user["my-hobby"]}`);
      const key = "isAdmin";
      console.log(`동적 키 접근: ${user[key]}`);

      // 추가
      user.email = "gildong@example.com";
      console.log("email 속성 추가 후:", user);

      // 수정
      user.age = 31;
      console.log("age 속성 수정 후:", user);

      // 삭제
      delete user.isAdmin;
      console.log("isAdmin 속성 삭제 후:", user);

      // 메소드 호출
      user.sayHello();
      user.sayAge();

      // 3. ES6+ 객체 관련 문법
      console.log("\n--- ES6+ 객체 문법 ---");
      const name = "김철수";
      const age = 25;

      // 속성 축약 (Property Shorthand)
      const person = { name, age }; // { name: name, age: age } 와 동일
      console.log("속성 축약 객체:", person);

      // 계산된 속성명 (Computed Property Names)
      let propertyName = "job";
      const teacher = {
        [propertyName]: "선생님",
      };
      console.log("계산된 속성명 객체:", teacher);

      // 4. 주요 Object 정적 메소드
      console.log("\n--- Object 정적 메소드 ---");
      const car = {
        brand: "Hyundai",
        model: "Sonata",
        year: 2023,
      };

      // Object.keys(): 객체의 키만 담은 배열을 반환
      const keys = Object.keys(car);
      console.log("Object.keys(car):", keys);

      // Object.values(): 객체의 값만 담은 배열을 반환
      const values = Object.values(car);
      console.log("Object.values(car):", values);

      // Object.entries(): [키, 값] 쌍의 배열을 반환
      const entries = Object.entries(car);
      console.log("Object.entries(car):", entries);
      // for...of 와 함께 사용하기 좋음
      for (const [key, value] of entries) {
        console.log(`  ${key}: ${value}`);
      }

      // Object.assign(): 하나 이상의 출처 객체로부터 대상 객체로 속성을 복사 (얕은 복사)
      const target = { a: 1 };
      const source1 = { b: 2 };
      const source2 = { c: 3, a: 4 };
      Object.assign(target, source1, source2);
      console.log("Object.assign() 결과:", target); // { a: 4, b: 2, c: 3 }

      // 5. 속성 존재 여부 확인
      console.log("\n--- 속성 존재 여부 확인 ---");

      // 'in' 연산자: 프로토타입 체인까지 확인
      console.log(`'brand' in car: ${"brand" in car}`); // true
      console.log(`'toString' in car: ${"toString" in car}`); // true (프로토타입에 존재)

      // hasOwnProperty(): 객체가 직접 소유한 속성인지 확인
      console.log(
        `car.hasOwnProperty('model'): ${car.hasOwnProperty("model")}`
      ); // true
      console.log(
        `car.hasOwnProperty('toString'): ${car.hasOwnProperty("toString")}`
      ); // false
    </script>
  </body>
</html>
