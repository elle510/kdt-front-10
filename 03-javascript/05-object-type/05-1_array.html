<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript Array와 메소드</title>
  </head>
  <body>
    <script>
      // Array: 여러 개의 값을 순서대로 저장하는 참조 타입(객체)입니다.

      // 1. 배열 생성
      console.log("--- 배열 생성 ---");
      const fruits = ["사과", "바나나", "딸기"];
      const numbers = [1, 2, 3, 4, 5];
      const mixed = ["hello", 123, true, null, { name: "객체" }];

      console.log("fruits:", fruits);
      console.log("numbers:", numbers);
      console.log("mixed:", mixed);

      // 2. 배열의 주요 속성과 접근
      console.log("\n--- 배열 속성 및 접근 ---");
      console.log(`fruits.length: ${fruits.length}`); // 3
      console.log(`fruits[0]: ${fruits[0]}`); // '사과' (0-based index)
      console.log(`fruits[fruits.length - 1]: ${fruits[fruits.length - 1]}`); // 마지막 요소: '딸기'

      // 3. 배열을 직접 수정하는 메소드 (Mutator Methods)
      console.log("\n--- 배열 직접 수정 메소드 ---");
      let colors = ["빨강", "초록", "파랑"];
      console.log("원본 colors:", colors);

      // push(): 배열 끝에 요소 추가. 새로운 길이를 반환.
      colors.push("노랑");
      console.log(`push('노랑') 후:`, colors);

      // pop(): 배열 끝 요소 제거. 제거된 요소를 반환.
      const poppedColor = colors.pop();
      console.log(`pop() 후:`, colors, `(제거된 요소: ${poppedColor})`);

      // unshift(): 배열 앞에 요소 추가. 새로운 길이를 반환.
      colors.unshift("주황");
      console.log(`unshift('주황') 후:`, colors);

      // shift(): 배열 앞 요소 제거. 제거된 요소를 반환.
      const shiftedColor = colors.shift();
      console.log(`shift() 후:`, colors, `(제거된 요소: ${shiftedColor})`);

      // splice(start, deleteCount, item1, ...): 배열의 기존 요소를 삭제 또는 교체하거나 새 요소를 추가.
      colors.splice(1, 1, "Green", "Blue"); // index 1에서 1개 요소를 지우고, 그 자리에 'Green', 'Blue' 추가
      console.log(`splice(1, 1, 'Green', 'Blue') 후:`, colors);

      // sort(): 배열 요소를 정렬. (기본: 유니코드 코드 포인트 순서)
      let unsorted = [3, 1, 10, 2, 5];
      console.log(`원본 unsorted:`, unsorted);
      unsorted.sort(); // 문자열로 변환 후 정렬 -> [1, 10, 2, 3, 5]
      console.log(`기본 sort() 후:`, unsorted);
      // 숫자 정렬을 위해서는 비교 함수 제공
      unsorted.sort((a, b) => a - b); // 오름차순
      console.log(`숫자 오름차순 sort() 후:`, unsorted);
      unsorted.sort((a, b) => b - a); // 내림차순
      console.log(`숫자 내림차순 sort() 후:`, unsorted);

      // 4. 새로운 배열을 반환하는 메소드 (Accessor/Iteration Methods)
      console.log("\n--- 새로운 배열 반환 메소드 ---");
      const original = ["a", "b", "c", "d", "e"];
      console.log("원본 original:", original);

      // slice(start, end): 배열의 일부를 복사하여 새 배열로 반환 (end 인덱스는 미포함)
      const sliced = original.slice(1, 4);
      console.log(`slice(1, 4):`, sliced); // ['b', 'c', 'd']

      // concat(array2, ...): 여러 배열을 합쳐 새 배열로 반환
      const newArray = sliced.concat(["f", "g"]);
      console.log(`concat(['f', 'g']):`, newArray);

      // forEach(callback): 각 요소에 대해 callback 함수 실행 (반환값 없음)
      console.log("forEach: (콘솔에 각 요소 출력)");
      original.forEach((item, index) => {
        console.log(`  index ${index}: ${item}`);
      });

      // map(callback): 각 요소에 callback 함수를 실행한 결과를 모아 새 배열로 반환
      const mapped = numbers.map((num) => num * 2);
      console.log(`numbers.map(num => num * 2):`, mapped);

      // filter(callback): callback 함수가 true를 반환하는 요소만 모아 새 배열로 반환
      const filtered = numbers.filter((num) => num > 3);
      console.log(`numbers.filter(num => num > 3):`, filtered);

      // reduce(callback, initialValue): 각 요소에 대해 (누적) callback을 실행해 하나의 결과값을 반환
      const sum = numbers.reduce(
        (accumulator, current) => accumulator + current,
        0
      );
      console.log(`numbers.reduce((acc, cur) => acc + cur, 0):`, sum);

      // 5. 탐색 메소드
      console.log("\n--- 탐색 메소드 ---");
      const searchTarget = ["apple", "banana", "orange", "banana", "kiwi"];

      // indexOf(item) / lastIndexOf(item): 요소의 인덱스 반환 (없으면 -1)
      console.log(`indexOf('banana'): ${searchTarget.indexOf("banana")}`); // 1
      console.log(
        `lastIndexOf('banana'): ${searchTarget.lastIndexOf("banana")}`
      ); // 3

      // includes(item): 요소 포함 여부를 boolean으로 반환
      console.log(`includes('orange'): ${searchTarget.includes("orange")}`); // true

      // find(callback): callback이 true를 반환하는 첫 번째 요소를 반환
      const found = numbers.find((num) => num > 2);
      console.log(`numbers.find(num => num > 2):`, found); // 3

      // findIndex(callback): callback이 true를 반환하는 첫 번째 요소의 인덱스를 반환
      const foundIndex = numbers.findIndex((num) => num > 2);
      console.log(`numbers.findIndex(num => num > 2):`, foundIndex); // 2
    </script>
  </body>
</html>
