<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CSS Cascade: Specificity</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }
      .container {
        border: 1px solid #ccc;
        padding: 15px;
        margin-bottom: 20px;
      }
      h2,
      h3 {
        border-bottom: 2px solid #eee;
        padding-bottom: 10px;
      }

      /*
      구체성(Specificity)의 원칙
      - 여러 규칙이 충돌할 때, 더 구체적인(구체성이 높은) 선택자를 사용한 규칙이 우선 적용됩니다.
      - 구체성은 (인라인 스타일, ID, 클래스/속성/가상클래스, 태그/가상요소)의 개수로 계산됩니다.
      - 예: #my-id p.highlight -> (0, 1, 1, 1)
      - 구체성 원칙은 '후자 우선의 원칙'보다 우선합니다.
    */

      /* --- 예시 1: 구체성에 따른 덮어쓰기 --- */

      /* 1. 태그 선택자 (구체성: 0,0,0,1) */
      p {
        color: blue;
      }

      /* 2. 클래스 선택자 (구체성: 0,0,1,0) - 태그 선택자보다 우선순위 높음 */
      .text-item {
        color: green;
      }

      /* 3. ID 선택자 (구체성: 0,1,0,0) - 클래스 선택자보다 우선순위 높음 */
      #specificity-test {
        color: red;
      }

      /* 
      결과적으로 #specificity-test 요소의 최종 color는 'red'가 됩니다.
      인라인 스타일과 !important를 제외하면 ID 선택자의 구체성이 가장 높기 때문입니다.
    */

      /* --- 예시 2: 구체성 vs 후자 우선의 원칙 --- */

      /* 규칙 A: ID 선택자 (구체성: 0,1,0,0) */
      #title {
        background-color: tomato;
      }

      /* 규칙 B: 태그 + 클래스 선택자 (구체성: 0,0,1,1) - 규칙 A보다 구체성 낮음 */
      h3.main-title {
        background-color: lightcoral;
      }

      /* 규칙 C: 클래스 선택자 (구체성: 0,0,1,0) - 규칙 B보다 구체성 낮음 */
      .main-title {
        background-color: lightblue;
      }

      /*
      위 세 규칙은 모두 같은 요소를 가리킵니다.
      소스 코드 순서상으로는 .main-title이 가장 마지막에 있지만,
      구체성이 가장 높은 #title 선택자의 스타일(background-color: tomato)이 최종적으로 적용됩니다.
    */
    </style>
  </head>
  <body>
    <h1>CSS 캐스케이드: 구체성(Specificity)의 원칙</h1>

    <div class="container">
      <h2>예시 1: 구체성에 따른 스타일 덮어쓰기</h2>
      <p id="specificity-test" class="text-item" style="font-size: 18px">
        이 텍스트의 색상은?
      </p>
      <ul>
        <li>1. 태그 선택자(p)에 의해 <code>blue</code>로 설정</li>
        <li>
          2. 클래스 선택자(.text-item)에 의해 <code>green</code>으로 덮어쓰기
          (0,0,1,0 > 0,0,0,1)
        </li>
        <li>
          3. ID 선택자(#specificity-test)에 의해
          <strong><code>red</code></strong
          >로 최종 결정 (0,1,0,0 > 0,0,1,0)
        </li>
      </ul>
      <p>
        <em
          >* 인라인 스타일이나 !important가 없다는 가정 하에, ID 선택자가 가장
          구체성이 높습니다.</em
        >
      </p>
    </div>

    <div class="container">
      <h2>예시 2: 구체성 원칙 vs 후자 우선의 원칙</h2>
      <h3 id="title" class="main-title">이 배경색은?</h3>
      <p>이 제목 요소에는 3가지 규칙이 충돌합니다.</p>
      <ol>
        <li><code>#title</code> (ID 선택자) - <code>tomato</code></li>
        <li>
          <code>h3.main-title</code> (태그+클래스 선택자) -
          <code>lightcoral</code>
        </li>
        <li>
          <code>.main-title</code> (클래스 선택자) - <code>lightblue</code>
        </li>
      </ol>
      <p>
        소스 코드상 가장 마지막 규칙은 <code>.main-title</code>이지만, 구체성이
        가장 높은 <code>#title</code> 규칙이 우선하여 배경색은
        <strong>tomato</strong>가 됩니다.
      </p>
    </div>
  </body>
</html>
