<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>고급 폼 스타일링</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Helvetica, Arial, sans-serif;
        background-color: #f4f7f9;
        color: #333;
        padding: 20px;
      }
      .form-container {
        max-width: 600px;
        margin: 30px auto;
        background: #fff;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }
      h1 {
        text-align: center;
        color: #2c3e50;
      }

      /* --- 폼 그룹 스타일 --- */
      .form-group {
        margin-bottom: 20px;
        position: relative;
      }
      /* :focus-within: 그룹 내의 input이나 textarea에 포커스가 가면 부모인 .form-group에 스타일 적용 */
      .form-group:focus-within label {
        color: #007bff;
        font-weight: bold;
      }

      /* --- 라벨 스타일 --- */
      label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        transition: all 0.2s ease;
      }
      /* :required: 필수 필드 라벨 옆에 별표(*) 가상 요소 추가 */
      .form-group.is-required label::after {
        content: " *";
        color: #e74c3c;
      }

      /* --- 기본 인풋 스타일 --- */
      input[type="text"],
      input[type="email"] {
        width: 100%;
        padding: 10px;
        border: 2px solid #ccc;
        border-radius: 5px;
        box-sizing: border-box; /* padding이 너비에 포함되도록 설정 */
        transition: border-color 0.2s ease;
      }

      /* --- 동적 가상 선택자 --- */

      /* :focus-visible: 키보드(Tab)로 포커스했을 때만 명확한 아웃라인 표시 (접근성) */
      input:focus-visible {
        outline: 3px solid #007bff;
        outline-offset: 2px;
      }
      /* 일반 :focus 에서는 아웃라인 제거 (마우스 클릭 시 불필요한 아웃라인 방지) */
      input:focus {
        outline: none;
        border-color: #007bff;
      }

      /* :disabled, :read-only: 비활성화/읽기전용 필드 스타일 */
      input:disabled {
        background-color: #eee;
        cursor: not-allowed;
      }
      input:read-only {
        background-color: #f9f9f9;
      }

      /* :valid, :invalid: 유효성 검사 스타일 */
      /* 사용자가 입력을 시작한 후에만 유효성 피드백 표시 (:placeholder-shown 활용) */
      input:not(:placeholder-shown):invalid {
        border-color: #e74c3c;
      }
      input:not(:placeholder-shown):valid {
        border-color: #2ecc71;
      }
      /* 가상 요소를 이용한 유효성 피드백 아이콘 */
      input:not(:placeholder-shown):invalid + .validation-icon::after {
        content: "❌";
      }
      input:not(:placeholder-shown):valid + .validation-icon::after {
        content: "✅";
      }
      .validation-icon {
        position: absolute;
        right: 10px;
        top: 35px;
      }

      /* --- 에러 메시지 스타일 --- */
      .form-error {
        color: #e74c3c;
        font-size: 0.875em;
        margin-top: 5px;
        max-height: 0;
        opacity: 0;
        transition: max-height 0.2s ease-out, opacity 0.2s ease-out;
        overflow: hidden;
      }
      /* invalid 상태이고, 사용자가 입력을 시작했을 때 에러 메시지 표시 */
      input:not(:placeholder-shown):invalid ~ .form-error {
        max-height: 20px;
        opacity: 1;
      }

      /* --- 가상 요소를 활용한 커스텀 체크박스/라디오 --- */
      .custom-control {
        position: relative;
        padding-left: 30px;
        cursor: pointer;
        display: inline-block;
        margin-right: 15px;
      }
      .custom-control input {
        opacity: 0; /* 원래 input 숨기기 */
        position: absolute;
      }
      /* ::before: 커스텀 컨트롤의 배경(박스/원) 만들기 */
      .custom-control .control-indicator {
        content: "";
        position: absolute;
        left: 0;
        top: 2px;
        width: 20px;
        height: 20px;
        background-color: #eee;
        border: 1px solid #ccc;
        border-radius: 4px;
      }
      .custom-radio .control-indicator {
        border-radius: 50%;
      } /* 라디오 버튼은 원으로 */

      /* :checked + ::after: 체크 상태일 때 체크마크/내부 원 표시 */
      .custom-control input:checked ~ .control-indicator::after {
        content: "";
        position: absolute;
        display: block;
      }
      .custom-checkbox input:checked ~ .control-indicator::after {
        left: 7px;
        top: 3px;
        width: 5px;
        height: 10px;
        border: solid #fff;
        border-width: 0 3px 3px 0;
        transform: rotate(45deg);
      }
      .custom-radio input:checked ~ .control-indicator::after {
        left: 5px;
        top: 5px;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: #fff;
      }
      /* :checked일 때 배경색 변경 */
      .custom-control input:checked ~ .control-indicator {
        background-color: #007bff;
        border-color: #007bff;
      }
    </style>
  </head>
  <body>
    <div class="form-container">
      <h1>회원가입</h1>

      <form>
        <div class="form-group is-required">
          <label for="username">사용자 이름</label>
          <input
            type="text"
            id="username"
            placeholder="이름을 입력하세요"
            required
          />
          <span class="validation-icon"></span>
          <div class="form-error">사용자 이름은 필수 항목입니다.</div>
        </div>

        <div class="form-group is-required">
          <label for="email">이메일</label>
          <input
            type="email"
            id="email"
            placeholder="you@example.com"
            required
          />
          <span class="validation-icon"></span>
          <div class="form-error">이메일 형식이 올바르지 않습니다.</div>
        </div>

        <div class="form-group">
          <label for="website">웹사이트 (선택)</label>
          <input type="text" id="website" placeholder="https://example.com" />
        </div>

        <div class="form-group">
          <label for="level">회원 등급 (수정 불가)</label>
          <input type="text" id="level" value="Gold" readonly />
        </div>

        <div class="form-group">
          <label for="coupon">쿠폰 코드 (사용 불가)</label>
          <input type="text" id="coupon" value="DISABLED" disabled />
        </div>

        <div class="form-group">
          <p>관심사 선택</p>
          <label class="custom-control custom-checkbox">
            <input type="checkbox" name="interest" value="sports" checked />
            스포츠
            <span class="control-indicator"></span>
          </label>
          <label class="custom-control custom-checkbox">
            <input type="checkbox" name="interest" value="music" />
            음악
            <span class="control-indicator"></span>
          </label>
        </div>

        <div class="form-group">
          <p>구독 플랜</p>
          <label class="custom-control custom-radio">
            <input type="radio" name="plan" value="free" checked />
            무료 플랜
            <span class="control-indicator"></span>
          </label>
          <label class="custom-control custom-radio">
            <input type="radio" name="plan" value="premium" />
            프리미엄 플랜
            <span class="control-indicator"></span>
          </label>
        </div>
      </form>
    </div>
  </body>
</html>
