<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>애너그램(Anagram) 검사</title>
  </head>
  <body>
    <script>
      // 애너그램(Anagram)은 두 단어나 문장이 문자의 종류와 개수가 정확히 동일하지만,
      // 순서만 다른 경우를 말합니다.
      // 예: "listen"과 "silent", "dormitory"와 "dirty room"

      // --- 1. 정렬하여 비교하는 방법 ---
      // 가장 직관적인 방법입니다. 두 문자열을 정렬했을 때 같은 문자열이 되면 애너그램입니다.
      // 시간 복잡도: O(N log N) (문자열 정렬에 드는 시간)
      console.log("--- 1. 정렬하여 비교 --- ");

      function isAnagram_sort(strA, strB) {
        // 1. 전처리: 공백과 특수문자를 제거하고 소문자로 통일합니다.
        const cleanA = strA.toLowerCase().replace(/["W_]/g, "");
        const cleanB = strB.toLowerCase().replace(/["W_]/g, "");

        // 2. 길이가 다르면 애너그램이 될 수 없습니다.
        if (cleanA.length !== cleanB.length) {
          return false;
        }

        // 3. 문자열을 배열로 만들고, 정렬한 뒤, 다시 문자열로 합쳐서 비교합니다.
        const sortedA = cleanA.split("").sort().join("");
        const sortedB = cleanB.split("").sort().join("");

        console.log(`  - A 정렬 후: ${sortedA}, B 정렬 후: ${sortedB}`);

        return sortedA === sortedB;
      }

      console.log("listen vs silent:", isAnagram_sort("listen", "silent")); // true
      console.log(
        "triangle vs integral:",
        isAnagram_sort("triangle", "integral")
      ); // true
      console.log("hello vs world:", isAnagram_sort("hello", "world")); // false
      console.log(
        "Dormitory vs Dirty room:",
        isAnagram_sort("Dormitory", "Dirty room")
      ); // true

      // --- 2. 문자 빈도 맵(Character Map)을 이용하는 방법 ---
      // 각 문자의 개수를 세어 비교하는 방식입니다. 정렬보다 성능이 더 좋습니다.
      // 시간 복잡도: O(N)
      console.log("\n--- 2. 문자 빈도 맵 이용 --- ");

      function isAnagram_map(strA, strB) {
        // 1. 전처리 및 길이 비교는 동일합니다.
        const cleanA = strA.toLowerCase().replace(/["W_]/g, "");
        const cleanB = strB.toLowerCase().replace(/["W_]/g, "");

        if (cleanA.length !== cleanB.length) {
          return false;
        }

        // 2. 첫 번째 문자열의 문자 빈도를 객체(맵)에 저장합니다.
        const charMap = {};
        for (const char of cleanA) {
          // charMap[char]가 있으면 1을 더하고, 없으면 1로 초기화
          charMap[char] = (charMap[char] || 0) + 1;
        }

        // 3. 두 번째 문자열을 순회하며 맵의 카운트를 줄여나갑니다.
        for (const char of cleanB) {
          // 맵에 해당 문자가 없거나, 카운트가 이미 0이면 애너그램이 아님
          if (!charMap[char]) {
            return false;
          }
          charMap[char]--;
        }

        // 모든 문자를 확인한 후, 모든 카운트가 0이 되었으므로 애너그램임
        return true;
      }

      console.log("listen vs silent:", isAnagram_map("listen", "silent")); // true
      console.log(
        "triangle vs integral:",
        isAnagram_map("triangle", "integral")
      ); // true
      console.log("hello vs world:", isAnagram_map("hello", "world")); // false
      console.log(
        "Dormitory vs Dirty room:",
        isAnagram_map("Dormitory", "Dirty room")
      ); // true
    </script>
  </body>
</html>
