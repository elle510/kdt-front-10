<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>최댓값과 최솟값의 차이 구하기</title>
  </head>
  <body>
    <script>
      // 주어진 정수 배열에서 가장 큰 값과 가장 작은 값의 차이를 구하는 문제입니다.
      // 예: [10, 4, 8, 15, 2, 9]  =>  15 - 2 = 13

      const nums = [10, 4, 8, 15, 2, 9, 20];
      console.log("원본 배열:", nums);

      // --- 1. Math.max/min과 전개 구문(...)을 이용한 방법 (가장 간단) ---
      // JavaScript 내장 Math 객체와 ES6 전개 구문을 활용하는 가장 간결한 방법입니다.
      // 시간 복잡도: O(n), 공간 복잡도: O(n) (전개 구문이 내부적으로 배열 복사를 수행할 수 있음)
      console.log("\n--- 1. Math.max/min과 전개 구문 이용 --- ");

      function findDiff_math(arr) {
        // 배열이 비어있으면 0을 반환
        if (arr.length === 0) {
          return 0;
        }
        const maxVal = Math.max(...arr);
        const minVal = Math.min(...arr);
        return maxVal - minVal;
      }

      console.log("결과:", findDiff_math(nums)); // 18
      // 참고: 이 방법은 매우 큰 배열(수십만 개 이상)에서는 "Maximum call stack size exceeded" 에러가 발생할 수 있습니다.

      // --- 2. 반복문을 이용한 방법 (가장 효율적이고 안정적) ---
      // 배열을 한 번만 순회하면서 최댓값과 최솟값을 직접 찾는 방법입니다.
      // 가장 정석적이며, 배열의 크기에 상관없이 안정적으로 동작합니다.
      // 시간 복잡도: O(n), 공간 복잡도: O(1)
      console.log("\n--- 2. 반복문 이용 --- ");

      function findDiff_loop(arr) {
        if (arr.length === 0) {
          return 0;
        }

        // 첫 번째 요소를 초기 최댓값과 최솟값으로 설정
        let maxVal = arr[0];
        let minVal = arr[0];

        // 두 번째 요소부터 순회 시작
        for (let i = 1; i < arr.length; i++) {
          const currentVal = arr[i];
          // 현재 최댓값보다 더 큰 값을 만나면 갱신
          if (currentVal > maxVal) {
            maxVal = currentVal;
          }
          // 현재 최솟값보다 더 작은 값을 만나면 갱신
          if (currentVal < minVal) {
            minVal = currentVal;
          }
        }

        return maxVal - minVal;
      }

      console.log("결과:", findDiff_loop(nums)); // 18

      // --- 3. 배열을 정렬하는 방법 (비효율적) ---
      // 배열을 정렬하면 첫 번째 요소가 최솟값, 마지막 요소가 최댓값이 됩니다.
      // 코드는 간단하지만, 정렬 자체의 비용이 커서 이 문제에는 비효율적인 접근 방식입니다.
      // 시간 복잡도: O(n log n) (정렬에 드는 시간)
      console.log("\n--- 3. 정렬 이용 --- ");

      function findDiff_sort(arr) {
        if (arr.length === 0) {
          return 0;
        }

        // 원본 배열 수정을 피하기 위해 복사본을 만들어 정렬
        const sortedArr = [...arr].sort((a, b) => a - b);

        const minVal = sortedArr[0];
        const maxVal = sortedArr[sortedArr.length - 1];

        return maxVal - minVal;
      }

      console.log("결과:", findDiff_sort(nums)); // 18
    </script>
  </body>
</html>
