<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript 객체(Object)</title>
  </head>
  <body>
    <script>
      // JavaScript 객체는 이름(key)과 값(value)으로 구성된 프로퍼티(property)들의 집합입니다.
      // 거의 모든 JavaScript의 요소들이 객체로 이루어져 있습니다.

      // ------------------- 1. 객체 생성 -------------------
      console.log("--- 1. 객체 생성 ---");

      // 1-1. 객체 리터럴 (가장 일반적이고 권장되는 방법)
      const user = {
        name: "elle",
        age: 30,
        isAdmin: true,
        "my-hobby": "reading", // key에 특수문자가 포함되면 따옴표로 감싸야 함
      };
      console.log("객체 리터럴:", user);

      // 1-2. new Object() 생성자 (거의 사용하지 않음)
      const user2 = new Object();
      user2.name = "alex";
      user2.age = 25;
      console.log("new Object() 생성자:", user2);

      // ------------------- 2. 프로퍼티 접근 / 추가 / 수정 / 삭제 -------------------
      console.log("\n--- 2. 프로퍼티 조작 ---");

      // 2-1. 접근 (Dot notation vs. Bracket notation)
      console.log("Dot notation:", user.name); // 'elle'
      // Bracket notation은 key를 문자열로 전달해야 함
      console.log("Bracket notation:", user["age"]); // 30
      // key에 특수문자가 있거나, 변수를 key로 사용할 때 Bracket notation이 필수적
      console.log("Bracket notation (특수문자 key):", user["my-hobby"]);
      const myKey = "name";
      console.log("Bracket notation (변수 key):", user[myKey]); // user['name']과 동일

      // 2-2. 추가
      user.address = "Seoul";
      console.log("프로퍼티 추가 후:", user);

      // 2-3. 수정
      user.age = 31;
      console.log("프로퍼티 수정 후:", user);

      // 2-4. 삭제
      delete user["my-hobby"];
      console.log("프로퍼티 삭제 후:", user);

      // ------------------- 3. ES6+ 객체 문법 -------------------
      console.log("\n--- 3. ES6+ 객체 문법 ---");
      const name = "jane";
      const age = 28;

      // 3-1. Shorthand properties (단축 프로퍼티)
      // 변수명과 key명이 같으면 하나로 축약 가능
      const person = { name, age }; // { name: name, age: age } 와 동일
      console.log("단축 프로퍼티:", person);

      // 3-2. Computed property names (계산된 프로퍼티 이름)
      // key를 동적으로 생성할 수 있음
      const prefix = "user_";
      const dynamicUser = {
        [prefix + "id"]: "user123",
        [prefix + "name"]: "chris",
      };
      console.log("계산된 프로퍼티:", dynamicUser); // { user_id: 'user123', user_name: 'chris' }

      // 3-3. Method syntax (메서드 축약)
      const calculator = {
        add(a, b) {
          // function 키워드 생략 가능
          return a + b;
        },
      };
      console.log("메서드 축약:", calculator.add(5, 3));

      // ------------------- 4. 객체 순회 및 유용한 메서드 -------------------
      console.log("\n--- 4. 객체 순회 및 메서드 ---");
      const product = {
        name: "Laptop",
        price: 1500000,
        inStock: true,
      };

      // 4-1. Object.keys(): key들로 이루어진 배열 반환
      const keys = Object.keys(product);
      console.log("Object.keys():", keys); // ['name', 'price', 'inStock']

      // 4-2. Object.values(): value들로 이루어진 배열 반환
      const values = Object.values(product);
      console.log("Object.values():", values); // ['Laptop', 1500000, true]

      // 4-3. Object.entries(): [key, value] 쌍으로 이루어진 2차원 배열 반환
      const entries = Object.entries(product);
      console.log("Object.entries():", entries);

      // for...of 와 함께 사용하면 객체를 쉽게 순회할 수 있음
      console.log("for...of 와 entries 활용:");
      for (const [key, value] of Object.entries(product)) {
        console.log(`  ${key}: ${value}`);
      }
    </script>
  </body>
</html>
